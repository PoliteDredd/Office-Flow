# Quick Start - Firebase Authentication Setup

Follow these steps to get Firebase Authentication working in your officeFlow project.

## âœ… Checklist

### 1. Firebase Project Setup
- [ ] Create Firebase project at [console.firebase.google.com](https://console.firebase.google.com)
- [ ] Enable Email/Password authentication
- [ ] Create Firestore database
- [ ] Set up Firestore security rules
- [ ] Download service account JSON file

### 2. Backend Configuration
- [ ] Place `firebase-service-account.json` in `backend/` folder
- [ ] Verify file is in `.gitignore`
- [ ] Install dependencies: `cd backend && npm install`
- [ ] Test backend: `node app.js`

### 3. Frontend Configuration
- [ ] Get Firebase web config from Firebase Console
- [ ] Update `frontend/users/scripts/firebase-config.js` with your config
- [ ] Replace all placeholder values (apiKey, projectId, etc.)

### 4. Testing
- [ ] Open `http://localhost:3000/users/pages/register.html`
- [ ] Register a new user with "Create new company"
- [ ] Check Firebase Console â†’ Authentication (user should appear)
- [ ] Check Firebase Console â†’ Firestore (collections should appear)
- [ ] Login with the new user
- [ ] Verify redirect to dashboard

### 5. Migration (If you have existing data)
- [ ] Backup `backend/db/database.json`
- [ ] Run migration: `node backend/utils/migrateToFirestore.js`
- [ ] Verify data in Firebase Console
- [ ] Send password reset emails to migrated users

## ğŸš€ Quick Commands

```bash
# Start backend server
cd backend
node app.js

# Run migration (if needed)
node utils/migrateToFirestore.js

# Install dependencies (if not already installed)
npm install
```

## ğŸ“ Configuration Files to Update

### 1. `backend/firebase-service-account.json`
```json
{
  "type": "service_account",
  "project_id": "your-project-id",
  "private_key_id": "...",
  "private_key": "...",
  "client_email": "...",
  ...
}
```

### 2. `frontend/users/scripts/firebase-config.js`
```javascript
const firebaseConfig = {
    apiKey: "YOUR_ACTUAL_API_KEY",
    authDomain: "your-project-id.firebaseapp.com",
    projectId: "your-project-id",
    storageBucket: "your-project-id.appspot.com",
    messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
    appId: "YOUR_APP_ID"
};
```

## ğŸ”’ Security Checklist

- [ ] `firebase-service-account.json` is in `.gitignore`
- [ ] Firestore security rules are configured
- [ ] Firebase Authentication is enabled
- [ ] CORS is properly configured
- [ ] Environment variables for production (optional)

## ğŸ¯ What Changed

### Before (Local Storage)
- Passwords stored in `database.json` with bcrypt
- JWT tokens generated by backend
- User data in local JSON file
- No cloud backup

### After (Firebase)
- Passwords managed by Firebase Authentication
- Firebase ID tokens (signed by Google)
- User data in Firestore (cloud database)
- Automatic backup and scaling

## ğŸ“š Documentation

- **Setup Guide**: `FIREBASE_SETUP_GUIDE.md` - Detailed setup instructions
- **API Reference**: `AUTHENTICATION_REFERENCE.md` - Code examples and API docs
- **This File**: `QUICK_START.md` - Quick checklist

## â“ Common Issues

### "Invalid API key"
â†’ Update `firebase-config.js` with your actual Firebase config

### "Permission denied" in Firestore
â†’ Check Firestore security rules in Firebase Console

### "User not found in database"
â†’ User exists in Auth but not Firestore - re-register the user

### Backend won't start
â†’ Ensure `firebase-service-account.json` exists in `backend/` folder

### CORS errors
â†’ Verify backend is running on `http://localhost:3000`

## ğŸ†˜ Need Help?

1. Check `FIREBASE_SETUP_GUIDE.md` for detailed instructions
2. Review `AUTHENTICATION_REFERENCE.md` for code examples
3. Check Firebase Console for errors
4. Review browser console for frontend errors
5. Check backend terminal for server errors

## ğŸ‰ Success Indicators

You'll know it's working when:
- âœ… New users appear in Firebase Console â†’ Authentication
- âœ… User profiles appear in Firestore â†’ users collection
- âœ… Companies appear in Firestore â†’ companies collection
- âœ… Login redirects to dashboard
- âœ… No console errors in browser or backend

## ğŸ“ Support Resources

- [Firebase Documentation](https://firebase.google.com/docs)
- [Firebase Console](https://console.firebase.google.com)
- [Firestore Security Rules](https://firebase.google.com/docs/firestore/security/get-started)

---

**Ready to start?** Follow the checklist above and refer to `FIREBASE_SETUP_GUIDE.md` for detailed steps!
